<launch>
  <param name="/use_sim_time" value="true"/>

  <!-- rviz -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find vineslam_ros)/param/config.rviz" required="false"/>

  <!-- agrob_map_transform gps node -->
  <node pkg="agrob_map_transform" type="agrob_gnss_transform_node" name="agrob_gnss_transform_node"
        clear_params="true">
    <rosparam command="load" file="$(find agrob_map_transform)/params/navsat_transform_template.yaml"/>

    <remap from="imu/data" to="/Dummy/IMU"/>
    <remap from="odometry/filtered" to="/vineslam/odom"/>
    <remap from="gps/fix" to="/fix"/>
  </node>

  <!-- slam node -->
  <node pkg="vineslam_ros" type="slam_node" name="slam_node" output="screen">
    <rosparam command="load" subst_value="True" file="$(find vineslam_ros)/param/setup_slam.yaml"/>
  </node>

  <!-- image feature node -->
  <include file="$(find vfe)/launch/run.launch" />

</launch>
